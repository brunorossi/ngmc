const Metalsmith  = require('metalsmith');
const fs = require('fs');
const env = require('dotenv');
const request = require('request');

const body = {
   "name": "nicethedevops2",
   "force_ssl": false,
   "notification_email": "brunorossiweb@gmail.com",
   "plan": "nf_team_dev",
   "processing_settings": {
     "css": {
       "bundle": true,
       "minify": true
     },
     "html": {
       "pretty_urls": false
     },
     "images": {
       "optimize": true
     },
     "js": {
       "bundle": true,
       "minify": true
     },
     "skip": false
   },
   "repo": {
     "cmd": "npm run generate -- --accessToken=CFPAT-56a31c1886e4e4d38940c7fc1e695bb6245435717dc420fb257632a0106ffa4d --spaceId=n94lbt2v635l --locale=en-US \u0026\u0026 npm run build -- --accessToken=CFPAT-56a31c1886e4e4d38940c7fc1e695bb6245435717dc420fb257632a0106ffa4d --spaceId=n94lbt2v635l --locale=en-US \u0026\u0026 mv ./build/post/index.html ./build/index.html",
 		"dir": "build/",
     "allowed_branches": [ "master" ],
     "private_logs": true,
     "provider": "github",
     "public_repo": true,
     "repo_branch": "master",
     "repo_path": "brunorossi/ngmc",
     "repo_url": "github.com/brunorossi/ngmc"
   }
};

/*
"build_settings": {
 "cmd": "npm run generate -- --accessToken=CFPAT-56a31c1886e4e4d38940c7fc1e695bb6245435717dc420fb257632a0106ffa4d --spaceId=n94lbt2v635l --locale=en-US \u0026\u0026 npm run build -- --accessToken=CFPAT-56a31c1886e4e4d38940c7fc1e695bb6245435717dc420fb257632a0106ffa4d --spaceId=n94lbt2v635l --locale=en-US \u0026\u0026 mv ./build/post/index.html ./build/index.html",
 "dir": "build/",
 "public_repo": true,
 "private_logs": true,
 "allowed_branches": ["master"],
 "provider": "github",
 "repo_type": "git",
 "repo_url": "github.com/brunorossi/ngmc",
 "repo_branch": "master",
 "repo_path": "brunorossi/ngmc",
}
*/

request({
    url: "https://api.netlify.com/api/v1/sites/?access_token=d9e841b07d175697e7a823a2fab38d3438cb74fb7eecdb171595db8a8331c3e3",
    method: "POST",
    json: true,   // <--Very important!!!
    body: body
}, function (error, response, body){

    console.log("Errors:");
    console.log(error);
    console.log("\n\n\n");
    console.log("Response:");
    console.log(response);
    console.log("\n\n\n");
    console.log("Body:");
    console.log(body);
    console.log("\n\n\n");

    


});

/*
#!/bin/bash


## Sites

# curl -X POST \
# --header 'Content-Type: application/json' \
# --header 'Accept: application/json' \
# -d '{ "account_name": "Bruno Rossi", "name": "testpme1111111222222", "notification_email": "brunorossiweb@gmail.com", "deploy_hook": "contentful", "force_ssl": false$

# curl -X GET \
# --header 'Content-Type: application/json' \
# --header 'Accept: application/json' \
# 'https://api.netlify.com/api/v1/sites/eb3d5df9-812b-4585-9e58-a66760d44277?access_token=d9e841b07d175697e7a823a2fab38d3438cb74fb7eecdb171595db8a8331c3e3'


## Hooks

curl -X GET \
--header 'Content-Type: application/json' \
--header 'Accept: application/json' \
'https://api.netlify.com/api/v1/hooks/5ac4bbf5a6188f2cf4c45c23?access_token=d9e841b07d175697e7a823a2fab38d3438cb74fb7eecdb171595db8a8331c3e3'


## Build Hooks

curl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{ \
   "branch": "string", \
   "created_at": "string", \
   "id": "string", \
   "site_id": "string", \
   "title": "string", \
   "url": "string" \
 }' 'https://api.netlify.com/api/v1/sites/222/build_hooks'

curl -X GET \
--header 'Content-Type: application/json' \
--header 'Accept: application/json' \
'https://api.netlify.com/api/v1/sites/eb3d5df9-812b-4585-9e58-a66760d44277/build_hooks?access_token=d9e841b07d175697e7a823a2fab38d3438cb74fb7eecdb171595db8a8331c3e3'

{ "branch": "string", "created_at": "string", "id": "string", "site_id": "string", "title": "string", "url": "string" }

*/

/*

{
	"id": "eb3d5df9-812b-4585-9e58-a66760d44277",
	"site_id": "eb3d5df9-812b-4585-9e58-a66760d44277",
	"plan": "nf_team_dev",
	"plan_data": {
		"title": "Netlify Team Free",
		"asset_acceleration": true,
		"form_processing": true,
		"cdn_propagation": "partial",
		"build_gc_exchange": "buildbot-gc",
		"build_node_pool": "buildbot-external-ssd",
		"build_cluster": "ha2",
		"domain_aliases": true,
		"secure_site": false,
		"prerendering": true,
		"proxying": true,
		"ssl": "custom",
		"rate_cents": 0,
		"yearly_rate_cents": 0,
		"cdn_network": "free_cdn_network",
		"branch_deploy": true,
		"managed_dns": true,
		"geo_ip": true,
		"split_testing": true,
		"id": "nf_team_dev"
	},
	"ssl_plan": null,
	"premium": false,
	"claimed": true,
	"name": "nicethedevops",
	"custom_domain": null,
	"domain_aliases": [],
	"password": null,
	"notification_email": null,
	"url": "http://nicethedevops.netlify.com",
	"admin_url": "https://app.netlify.com/sites/nicethedevops",
	"deploy_id": "5ac543c0be40f10e62deaebb",
	"build_id": "",
	"deploy_url": "http://master.nicethedevops.netlify.com",
	"state": "current",
	"screenshot_url": "https://353a23c500dde3b2ad58-c49fe7e7355d384845270f4a7a0a7aa1.ssl.cf2.rackcdn.com/5ac543c0be40f10e62deaebb/screenshot.png",
	"created_at": "2018-04-03T20:23:59.760Z",
	"updated_at": "2018-04-04T21:30:10.306Z",
	"user_id": "5aa6f4f8efbe5d7d096b7d0f",
	"error_message": null,
	"ssl": false,
	"ssl_url": "https://nicethedevops.netlify.com",
	"force_ssl": null,
	"ssl_status": null,
	"max_domain_aliases": 100,
	"build_settings": {
		"cmd": "npm run generate -- --accessToken=CFPAT-56a31c1886e4e4d38940c7fc1e695bb6245435717dc420fb257632a0106ffa4d --spaceId=n94lbt2v635l --locale=en-US \u0026\u0026 npm run build -- --accessToken=CFPAT-56a31c1886e4e4d38940c7fc1e695bb6245435717dc420fb257632a0106ffa4d --spaceId=n94lbt2v635l --locale=en-US \u0026\u0026 mv ./build/post/index.html ./build/index.html",
		"dir": "build/",
		"env": {},
		"created_at": "2018-04-03T20:23:59.787Z",
		"updated_at": "2018-04-04T04:39:13.058Z",
		"public_repo": true,
		"private_logs": true,
		"allowed_branches": ["master"],
		"functions_dir": null,
		"provider": "github",
		"repo_type": "git",
		"repo_url": "https://github.com/brunorossi/ngmc",
		"repo_branch": "master",
		"repo_path": "brunorossi/ngmc",
		"base": null,
		"deploy_key_id": "5ac3e2dd92226a0620117503"
	},
	"processing_settings": {
		"css": {
			"bundle": true,
			"minify": true
		},
		"js": {
			"bundle": true,
			"minify": true
		},
		"images": {
			"optimize": true
		},
		"html": {
			"pretty_urls": false
		},
		"skip": false
	},
	"prerender": null,
	"prerender_headers": null,
	"deploy_hook": "https://api.netlify.com/hooks/github",
	"published_deploy": {
		"id": "5ac543c0be40f10e62deaebb",
		"site_id": "eb3d5df9-812b-4585-9e58-a66760d44277",
		"build_id": "5ac543c0be40f10e62deaebc",
		"state": "ready",
		"name": "nicethedevops",
		"url": "http://nicethedevops.netlify.com",
		"ssl_url": "https://nicethedevops.netlify.com",
		"admin_url": "https://app.netlify.com/sites/nicethedevops",
		"deploy_url": "http://master.nicethedevops.netlify.com",
		"deploy_ssl_url": "https://master--nicethedevops.netlify.com",
		"screenshot_url": "https://353a23c500dde3b2ad58-c49fe7e7355d384845270f4a7a0a7aa1.ssl.cf2.rackcdn.com/5ac543c0be40f10e62deaebb/screenshot.png",
		"created_at": "2018-04-04T21:29:36.232Z",
		"updated_at": "2018-04-04T21:30:10.282Z",
		"user_id": "5aa6f4f8efbe5d7d096b7d0f",
		"error_message": null,
		"required": [],
		"required_functions": [],
		"commit_ref": "ff76b1eb9e98fb523765eef1e0a994caa463711f",
		"review_id": null,
		"branch": "master",
		"commit_url": "https://github.com/brunorossi/ngmc/commit/ff76b1eb9e98fb523765eef1e0a994caa463711f",
		"skipped": null,
		"locked": null,
		"log_access_attributes": {
			"type": "firebase",
			"url": "https://netlify.firebaseio.com/builds/5ac543c0be40f10e62deaebc/log"
		},
		"title": "add .nvmrc and contentful web hook generation file",
		"review_url": null,
		"published_at": "2018-04-04T21:30:08.718Z",
		"context": "production",
		"deploy_time": 31,
		"available_functions": []
	},
	"managed_dns": true,
	"jwt_secret": null,
	"account_slug": "brunorossi",
	"account_name": "Bruno Rossi",
	"account_type": "personal",
	"capabilities": {
		"title": "Netlify Team Free",
		"asset_acceleration": true,
		"form_processing": true,
		"cdn_propagation": "partial",
		"build_gc_exchange": "buildbot-gc",
		"build_node_pool": "buildbot-external-ssd",
		"build_cluster": "ha2",
		"domain_aliases": true,
		"secure_site": false,
		"prerendering": true,
		"proxying": true,
		"ssl": "custom",
		"rate_cents": 0,
		"yearly_rate_cents": 0,
		"cdn_network": "free_cdn_network",
		"branch_deploy": true,
		"managed_dns": true,
		"geo_ip": true,
		"split_testing": true,
		"id": "nf_team_dev"
	},
	"active_subscription_ids": [],
	"external_contributors_enabled": true,
	"paid_individual_site_subscription": null,
	"dns_zone_id": null,
	"identity_instance_id": null,
	"use_functions": null,
	"parent_user_id": null
}






curl -X POST --header 'Content-Type: application/json' --header 'Accept: application/json' -d '{ \
   "account_name": "string", \
   "account_slug": "string", \
   "admin_url": "string", \
   "build_settings": { \
     "allowed_branches": [ \
       "string" \
     ], \
     "cmd": "string", \
     "deploy_key_id": "string", \
     "dir": "string", \
     "env": {}, \
     "id": 0, \
     "private_logs": true, \
     "provider": "string", \
     "public_repo": true, \
     "repo_branch": "string", \
     "repo_path": "string", \
     "repo_url": "string" \
   }, \
   "capabilities": {}, \
   "created_at": "string", \
   "custom_domain": "string", \
   "deploy_hook": "string", \
   "deploy_url": "string", \
   "domain_aliases": [ \
     "string" \
   ], \
   "force_ssl": true, \
   "git_provider": "string", \
   "id": "string", \
   "managed_dns": true, \
   "name": "string", \
   "notification_email": "string", \
   "password": "string", \
   "plan": "string", \
   "processing_settings": { \
     "css": { \
       "bundle": true, \
       "minify": true \
     }, \
     "html": { \
       "pretty_urls": true \
     }, \
     "images": { \
       "optimize": true \
     }, \
     "js": { \
       "bundle": true, \
       "minify": true \
     }, \
     "skip": true \
   }, \
   "published_deploy": { \
     "admin_url": "string", \
     "branch": "string", \
     "build_id": "string", \
     "commit_ref": "string", \
     "commit_url": "string", \
     "context": "string", \
     "created_at": "string", \
     "deploy_ssl_url": "string", \
     "deploy_url": "string", \
     "draft": true, \
     "error_message": "string", \
     "id": "string", \
     "locked": true, \
     "name": "string", \
     "published_at": "string", \
     "required": [ \
       "string" \
     ], \
     "required_functions": [ \
       "string" \
     ], \
     "review_id": 0, \
     "review_url": "string", \
     "screenshot_url": "string", \
     "site_id": "string", \
     "skipped": true, \
     "ssl_url": "string", \
     "state": "string", \
     "title": "string", \
     "updated_at": "string", \
     "url": "string", \
     "user_id": "string" \
   }, \
   "screenshot_url": "string", \
   "session_id": "string", \
   "ssl": true, \
   "ssl_url": "string", \
   "state": "string", \
   "updated_at": "string", \
   "url": "string", \
   "user_id": "string", \
   "repo": { \
     "allowed_branches": [ \
       "string" \
     ], \
     "cmd": "string", \
     "deploy_key_id": "string", \
     "dir": "string", \
     "env": {}, \
     "id": 0, \
     "private_logs": true, \
     "provider": "string", \
     "public_repo": true, \
     "repo_branch": "string", \
     "repo_path": "string", \
     "repo_url": "string" \
   } \
 }' 'https://api.netlify.com/api/v1/sites'

*/
